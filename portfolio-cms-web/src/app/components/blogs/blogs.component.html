<div class="blogs-container">
  <div class="header">
    <h1>{{ 'blogs.title' | translate }}</h1>
    <button class="btn-primary" (click)="createBlog()">{{ 'blogs.createNew' | translate }}</button>
  </div>

  <div *ngIf="loading" class="loading">{{ 'blogs.loading' | translate }}</div>
  
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="!loading && !error" class="blogs-grid">
    <div *ngIf="blogs.length === 0" class="no-data">
      {{ 'blogs.empty' | translate }}
    </div>

    <div *ngFor="let blog of blogs" class="blog-card">
      <div class="blog-header">
        <h3>{{ blog.title }}</h3>
        <span class="status" [ngClass]="getStatusClass(blog.isPublished)">
          {{ getStatusText(blog.isPublished) }}
        </span>
      </div>

      <div class="blog-meta">
        <span class="views">{{ blog.views || 0 }} {{ 'blogs.views' | translate }}</span>
        <span class="date">{{ blog.createdAt | date:'mediumDate' }}</span>
      </div>

      <p class="blog-summary">{{ blog.summary }}</p>

      <div class="blog-tags" *ngIf="blog.tags && blog.tags.length > 0">
        <span class="tag" *ngFor="let tag of blog.tags">{{ tag }}</span>
      </div>

      <div class="blog-actions">
        <a *ngIf="blog.isPublished && blog.slug" class="btn-view" [href]="'/blog/' + blog.slug" target="_blank">ðŸ”— {{ 'blogs.view' | translate }}</a>
        <button *ngIf="blog.isPublished && blog.slug" class="btn-copy" (click)="copyBlogLink(blog.slug)">ðŸ“‹ {{ 'blogs.copyLink' | translate }}</button>
        <button class="btn-edit" (click)="editBlog(blog.id)">{{ 'blogs.edit' | translate }}</button>
        <button
          class="btn-publish"
          [class.btn-unpublish]="blog.isPublished"
          (click)="togglePublish(blog)">
          {{ blog.isPublished ? ('blogs.unpublish' | translate) : ('blogs.publish' | translate) }}
        </button>
        <button class="btn-delete" (click)="deleteBlog(blog.id, blog.title)">{{ 'blogs.delete' | translate }}</button>
      </div>

      <div class="share-actions" *ngIf="blog.isPublished">
        <span class="share-label">Share:</span>
        <button class="btn-share btn-linkedin" (click)="shareOnLinkedIn(blog)" title="Share on LinkedIn">
          <span class="share-icon">in</span> LinkedIn
        </button>
        <button class="btn-share btn-facebook" (click)="shareOnFacebook(blog)" title="Share on Facebook">
          <span class="share-icon">f</span> Facebook
        </button>
      </div>
    </div>
  </div>
</div>
