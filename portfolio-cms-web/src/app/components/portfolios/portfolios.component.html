<div class="portfolios-container">
  <div class="header">
    <h1>Portfolios</h1>
    <button class="btn-primary" (click)="createPortfolio()">Create New Portfolio</button>
  </div>

  <div *ngIf="loading" class="loading">Loading portfolios...</div>
  
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="!loading && !error" class="portfolios-grid">
    <div *ngIf="portfolios.length === 0" class="no-data">
      No portfolios found. Create your first portfolio!
    </div>

    <div *ngFor="let portfolio of portfolios" class="portfolio-card">
      <div class="portfolio-header">
        <div class="title-section">
          <h3>{{ portfolio.title }}</h3>
          <p class="subtitle">{{ portfolio.subtitle }}</p>
        </div>
        <span class="visibility" [ngClass]="getVisibilityClass(portfolio.isPublic)">
          {{ getVisibilityText(portfolio.isPublic) }}
        </span>
      </div>

      <p class="bio">{{ portfolio.bio }}</p>

      <div class="portfolio-meta">
        <div class="template">
          <strong>Template:</strong> {{ portfolio.template }}
        </div>
        <div class="items-count">
          <strong>{{ getTotalItems(portfolio) }}</strong> items
        </div>
      </div>

      <div class="portfolio-stats">
        <div class="stat" *ngIf="portfolio.data.workExperiences?.length">
          <span class="count">{{ portfolio.data.workExperiences.length }}</span>
          <span class="label">Work</span>
        </div>
        <div class="stat" *ngIf="portfolio.data.education?.length">
          <span class="count">{{ portfolio.data.education.length }}</span>
          <span class="label">Education</span>
        </div>
        <div class="stat" *ngIf="portfolio.data.skills?.length">
          <span class="count">{{ portfolio.data.skills.length }}</span>
          <span class="label">Skills</span>
        </div>
        <div class="stat" *ngIf="portfolio.data.projects?.length">
          <span class="count">{{ portfolio.data.projects.length }}</span>
          <span class="label">Projects</span>
        </div>
        <div class="stat" *ngIf="portfolio.data.certifications?.length">
          <span class="count">{{ portfolio.data.certifications.length }}</span>
          <span class="label">Certs</span>
        </div>
      </div>

      <div class="portfolio-actions">
        <button class="btn-edit" (click)="editPortfolio(portfolio.id)">Edit</button>
        <button class="btn-delete" (click)="deletePortfolio(portfolio.id, portfolio.title)">Delete</button>
      </div>
    </div>
  </div>
</div>
