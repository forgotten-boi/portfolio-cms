<div class="settings-container">
  <h1>{{ 'settings.title' | translate }}</h1>
  <p class="settings-description">{{ 'settings.description' | translate }}</p>

  <!-- Login Settings -->
  <div class="settings-card">
    <h2>{{ 'settings.loginSettings' | translate }}</h2>

    <div class="setting-item">
      <div class="setting-info">
        <label for="showTenantId" class="setting-label">{{ 'settings.showTenantId' | translate }}</label>
        <p class="setting-help">{{ 'settings.showTenantIdHelp' | translate }}</p>
      </div>
      <div class="setting-control">
        <label class="toggle-switch">
          <input
            type="checkbox"
            id="showTenantId"
            [(ngModel)]="settings.showTenantId"
            name="showTenantId">
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>

    <div class="setting-item" *ngIf="!settings.showTenantId">
      <div class="setting-info">
        <label for="defaultTenantId" class="setting-label">{{ 'settings.defaultTenantId' | translate }}</label>
        <p class="setting-help">{{ 'settings.defaultTenantIdHelp' | translate }}</p>
      </div>
      <div class="setting-control setting-control-wide">
        <input
          type="text"
          id="defaultTenantId"
          class="form-control"
          [(ngModel)]="settings.defaultTenantId"
          name="defaultTenantId"
          placeholder="00000000-0000-0000-0000-000000000001">
      </div>
    </div>
  </div>

  <!-- Appearance Settings -->
  <div class="settings-card">
    <h2>{{ 'settings.appearance' | translate }}</h2>

    <!-- Color Theme -->
    <div class="setting-item">
      <div class="setting-info">
        <label class="setting-label">{{ 'settings.theme' | translate }}</label>
        <p class="setting-help">{{ 'settings.themeHelp' | translate }}</p>
      </div>
      <div class="setting-control">
        <div class="color-picker">
          <button 
            *ngFor="let c of themeService.getAvailableColors()" 
            class="color-btn"
            [class.active]="currentColor === c.id"
            [style.background]="c.preview"
            [title]="c.name"
            (click)="setColor(c.id)">
            <span *ngIf="currentColor === c.id" class="check">✓</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Dark Mode -->
    <div class="setting-item">
      <div class="setting-info">
        <label for="darkMode" class="setting-label">{{ 'settings.darkMode' | translate }}</label>
        <p class="setting-help">{{ 'settings.darkModeHelp' | translate }}</p>
      </div>
      <div class="setting-control">
        <label class="toggle-switch">
          <input
            type="checkbox"
            id="darkMode"
            [ngModel]="isDark"
            (ngModelChange)="toggleDarkMode()"
            name="darkMode">
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>
  </div>

  <!-- Language Settings -->
  <div class="settings-card">
    <h2>{{ 'settings.languageSection' | translate }}</h2>

    <div class="setting-item">
      <div class="setting-info">
        <label class="setting-label">{{ 'settings.language' | translate }}</label>
        <p class="setting-help">{{ 'settings.languageHelp' | translate }}</p>
      </div>
      <div class="setting-control">
        <div class="language-picker">
          <button 
            *ngFor="let lang of translationService.getAvailableLanguages()" 
            class="lang-btn"
            [class.active]="currentLang === lang.code"
            (click)="setLanguage(lang.code)">
            {{ lang.nativeName }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="actions">
    <button class="btn btn-primary" (click)="onSave()">{{ 'settings.save' | translate }}</button>
    <span class="save-success" *ngIf="saved">✓ {{ 'settings.saved' | translate }}</span>
  </div>
</div>
